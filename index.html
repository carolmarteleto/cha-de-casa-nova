<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Ch√° de Casa Nova | Carol & Julio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

 <style>
  body {
    font-family: 'Segoe UI', Arial, sans-serif;
    background: #f7f4f2;
    margin: 0;
    padding: 20px;
  }

  h1, h2 {
    text-align: center;
    margin-bottom: 10px;
  }

  .info {
    text-align: center;
    margin-bottom: 30px;
    color: #555;
  }

  /* GRID DOS PRESENTES */
  #lista-presentes {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 15px;
    margin-bottom: 40px;
  }

  .card {
    background: #fff;
    border-radius: 12px;
    padding: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    text-align: center;
  }

  .card img {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 10px;
  }

  .card p {
    font-size: 14px;
    margin: 8px 0;
  }

  button {
    background: #c89b7b;
    color: white;
    border: none;
    padding: 8px;
    border-radius: 20px;
    cursor: pointer;
    width: 100%;
    font-size: 13px;
  }

  button:hover {
    opacity: 0.9;
  }

  input, select {
    width: 100%;
    padding: 8px;
    margin-top: 8px;
    margin-bottom: 12px;
    border-radius: 6px;
    border: 1px solid #ccc;
  }
</style>
</head>

<body>

  <h1>üè° Ch√° de Casa Nova</h1>
  <h2>Carol & Julio</h2>

  <div class="info">
    <p>üìÖ Data prevista: <b>28/02/2026</b></p>
    <p>üìù Confirmar presen√ßa at√©: <b>21/02/2026</b></p>
  </div>

  <h2>üéÅ Lista de Presentes</h2>
  <div id="lista-presentes"></div>

  <h2>‚úçÔ∏è Confirma√ß√£o de Presen√ßa</h2>

  <div class="card">
    <input type="text" id="nome" placeholder="Seu nome" />
    <select id="presenca">
      <option value="">Voc√™ vai?</option>
      <option value="Sim">Sim</option>
      <option value="N√£o">N√£o</option>
    </select>
    <button onclick="confirmarPresenca()">Confirmar presen√ßa</button>
  </div>

  <script>
    // CONFIGURA√á√ÉO FIREBASE
    const firebaseConfig = {
      apiKey: "AIzaSyDmDv4anmWYV5WZ36dSDaoWzhkupINqokg",
      authDomain: "cha-casa-nova-carol-julio.firebaseapp.com",
      projectId: "cha-casa-nova-carol-julio",
      storageBucket: "cha-casa-nova-carol-julio.appspot.com",
      messagingSenderId: "74216043242",
      appId: "1:74216043242:web:37e79ed5cdb458db759d93"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // LISTA DE PRESENTES
   const presentes = [
  {
    id: "jogo-pratos",
    nome: "Jogo de pratos",
    img: "https://via.placeholder.com/300"
  },
  {
    id: "panela",
    nome: "Panela",
    img: "https://via.placeholder.com/300"
  },
  {
    id: "jogo-talheres",
    nome: "Jogo de talheres",
    img: "https://via.placeholder.com/300"
  },
  {
    id: "conjunto-copos",
    nome: "Conjunto de copos",
    img: "https://via.placeholder.com/300"
  },
  {
    id: "tapete-cozinha",
    nome: "Tapete para cozinha",
    img: "https://via.placeholder.com/300"
  },
  {
    id: "porta-temperos",
    nome: "Porta-temperos",
    img: "https://via.placeholder.com/300"
  }
];

    const lista = document.getElementById("lista-presentes");

    function carregarPresentes() {
      lista.innerHTML = "";

      presentes.forEach(p => {
        db.collection("presentes").doc(p.id).get().then(doc => {
          if (doc.exists && doc.data().escolhido) return;

          const div = document.createElement("div");
          div.className = "card";
          div.innerHTML = `
            <img src="${p.img}" />
            <p><b>${p.nome}</b></p>
            <button onclick="escolherPresente('${p.id}')">Escolher presente</button>
          `;
          lista.appendChild(div);
        });
      });
    }

    function escolherPresente(id) {
      db.collection("presentes").doc(id).set({ escolhido: true })
        .then(() => carregarPresentes());
    }

    // CONFIRMA√á√ÉO DE PRESEN√áA
    function confirmarPresenca() {
      const nome = document.getElementById("nome").value.trim();
      const presenca = document.getElementById("presenca").value;

      if (!nome || !presenca) {
        alert("Preencha todos os campos");
        return;
      }

      db.collection("confirmacoes").add({
        nome: nome,
        presenca: presenca,
        data: new Date()
      }).then(() => {
        alert("Presen√ßa confirmada!");
        document.getElementById("nome").value = "";
        document.getElementById("presenca").value = "";
      }).catch(err => {
        alert("Erro ao confirmar presen√ßa");
        console.error(err);
      });
    }

    carregarPresentes();
  </script>

</body>
</html>
